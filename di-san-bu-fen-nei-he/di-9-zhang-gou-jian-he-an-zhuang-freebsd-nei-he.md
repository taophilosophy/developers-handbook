# 第 9 章 构建和安装 FreeBSD 内核

作为一个内核开发者，需要理解内核构建过程。要调试 FreeBSD 内核，需要能够构建一个内核。有两种已知的方法可以实现这一点：

构建和安装内核的支持过程在 FreeBSD 手册的“构建和安装自定义内核”章节中有详细记录。

|  | 假定本章的读者熟悉 FreeBSD 手册的“构建和安装自定义内核”章节中描述的信息。如果不是这种情况，请阅读上述章节以了解构建过程的运作方式。 |
| -- | --------------------------------------------------------------------------------------------------------------------------------------- |

## 9.1. 构建更快但更易出错的方式

用这种方式构建内核在处理内核代码时可能很有用，而且在仅在内核配置文件中调整了一个或两个选项时，实际上可能比文档中的过程更快。另一方面，这可能导致意外的内核构建中断。

1. 运行 config(8) 以生成内核源代码：

    ```
    # /usr/sbin/config MYKERNEL
    ```
2. 进入构建目录。在如上运行后，config(8) 将打印该目录的名称。

    ```
    # cd ../compile/MYKERNEL
    ```
3. 编译内核：

    ```
    # make depend
    # make
    ```
4. 安装新内核：

    ```
    # make install
    ```
